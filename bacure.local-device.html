<!DOCTYPE html>
<html><head><link href="css/default.css" rel="stylesheet" type="text/css"><script src="js/jquery.min.js" type="text/javascript"></script><script src="js/page_effects.js" type="text/javascript"></script><title>bacure.local-device documentation</title></head><body><div id="header"><h2>Generated by <a href="https://github.com/weavejester/codox">Codox</a></h2><h1><a href="index.html">Bacure 0.3.13 API documentation</a></h1></div><div class="sidebar" id="namespaces"><h3><span>Namespaces</span></h3><ul><li><a href="bacure.coerce.html"><span>bacure.coerce</span></a></li><li><a href="bacure.core.html"><span>bacure.core</span></a></li><li class="current"><a href="bacure.local-device.html"><span>bacure.local-device</span></a></li><li><a href="bacure.local-save.html"><span>bacure.local-save</span></a></li><li><a href="bacure.network.html"><span>bacure.network</span></a></li><li><a href="bacure.read-properties.html"><span>bacure.read-properties</span></a></li><li><a href="bacure.remote-device.html"><span>bacure.remote-device</span></a></li></ul></div><div class="sidebar" id="vars"><h3>Public Vars</h3><ul><li><a href="bacure.local-device.html#var-add-object"><span>add-object</span></a></li><li><a href="bacure.local-device.html#var-add-or-update-object"><span>add-or-update-object</span></a></li><li><a href="bacure.local-device.html#var-clear-all%21"><span>clear-all!</span></a></li><li><a href="bacure.local-device.html#var-initialize"><span>initialize</span></a></li><li><a href="bacure.local-device.html#var-load-local-device-backup"><span>load-local-device-backup</span></a></li><li><a href="bacure.local-device.html#var-local-device-backup"><span>local-device-backup</span></a></li><li><a href="bacure.local-device.html#var-local-objects"><span>local-objects</span></a></li><li><a href="bacure.local-device.html#var-mapify"><span>mapify</span></a></li><li><a href="bacure.local-device.html#var-new-local-device"><span>new-local-device</span></a></li><li><a href="bacure.local-device.html#var-remove-all-objects"><span>remove-all-objects</span></a></li><li><a href="bacure.local-device.html#var-remove-object"><span>remove-object</span></a></li><li><a href="bacure.local-device.html#var-reset-local-device"><span>reset-local-device</span></a></li><li><a href="bacure.local-device.html#var-save-local-device-backup"><span>save-local-device-backup</span></a></li><li><a href="bacure.local-device.html#var-terminate"><span>terminate</span></a></li></ul></div><div class="namespace-docs" id="content"><h2>bacure.local-device documentation</h2><pre class="doc"></pre><div class="public" id="var-add-object"><h3>add-object</h3><div class="usage"><code>(add-object object-map)</code></div><pre class="doc">Add a local object and return it. You should probably just use `add-or-update-object'.
</pre><div class="src-link"><a href="https://github.com/Frozenlock/bacure/blob/master/src/bacure/local_device.clj#L93">Source</a></div></div><div class="public" id="var-add-or-update-object"><h3>add-or-update-object</h3><div class="usage"><code>(add-or-update-object object-map)</code></div><pre class="doc">Update a local object properties. Create the object it if not
already present. Will not try to modify any :object-type
or :object-identifier.</pre><div class="src-link"><a href="https://github.com/Frozenlock/bacure/blob/master/src/bacure/local_device.clj#L102">Source</a></div></div><div class="public" id="var-clear-all%21"><h3>clear-all!</h3><div class="usage"><code>(clear-all!)</code></div><pre class="doc">Mostly a development function; Destroy all traces of a local-device.
</pre><div class="src-link"><a href="https://github.com/Frozenlock/bacure/blob/master/src/bacure/local_device.clj#L158">Source</a></div></div><div class="public" id="var-initialize"><h3>initialize</h3><div class="usage"><code>(initialize)</code></div><pre class="doc">Initialize the local device. This will bind it to it's port (most
likely 47808). The port will remain unavailable until the device is
terminated. Once terminated, you should discard the device and
create a new one if needed.</pre><div class="src-link"><a href="https://github.com/Frozenlock/bacure/blob/master/src/bacure/local_device.clj#L75">Source</a></div></div><div class="public" id="var-load-local-device-backup"><h3>load-local-device-backup</h3><div class="usage"><code>(load-local-device-backup)</code></div><pre class="doc">Load the local-device backup file and reset it with this new
configuration.</pre><div class="src-link"><a href="https://github.com/Frozenlock/bacure/blob/master/src/bacure/local_device.clj#L171">Source</a></div></div><div class="public" id="var-local-device-backup"><h3>local-device-backup</h3><div class="usage"><code>(local-device-backup)</code></div><pre class="doc">Spit all important information about the local device into a map.
</pre><div class="src-link"><a href="https://github.com/Frozenlock/bacure/blob/master/src/bacure/local_device.clj#L124">Source</a></div></div><div class="public" id="var-local-objects"><h3>local-objects</h3><div class="usage"><code>(local-objects)</code></div><pre class="doc">Return a list of local objects
</pre><div class="src-link"><a href="https://github.com/Frozenlock/bacure/blob/master/src/bacure/local_device.clj#L88">Source</a></div></div><div class="public" id="var-mapify"><h3>mapify</h3><h4 class="macro">macro</h4><div class="usage"><code>(mapify &amp; symbols)</code></div><pre class="doc">Given some symbols, construct a map with the symbols as keys, and
 the value of the symbols as the map values. For example:
(Let [aa 12]
    (mapify aa))
=&gt; {:aa 12}</pre><div class="src-link"><a href="https://github.com/Frozenlock/bacure/blob/master/src/bacure/local_device.clj#L11">Source</a></div></div><div class="public" id="var-new-local-device"><h3>new-local-device</h3><div class="usage"><code>(new-local-device)</code><code>(new-local-device configs-map)</code></div><pre class="doc">Return a new configured BACnet local device . (A device is required
to communicate over the BACnet network.). To terminate it, use the
java method `terminate'. If needed, the initial configurations are
available in the atom 'local-device-configs.

The optional config map can contain the following:
:device-id &lt;number&gt;
:broadcast-address &lt;string&gt;
:port &lt;number&gt;
:destination-port &lt;number&gt;
:local-address &lt;string&gt; &lt;----- You probably don't want to use it.
:timeout &lt;number&gt;

The device ID is the device identifier on the network. It should be
unique.

Port and destination port are the BACnet port, usually 47808.

The broadcast-address is the address on which we send 'WhoIs'.

The local-address will default to &quot;0.0.0.0&quot;, also known as the
'anylocal'. (Default by the underlying BACnet4J library.) This is
required on Linux and Solaris machines in order to catch packet
sent as a broadcast. You can manually change it, but unless you
know exactly what you are doing, bad things will happen.</pre><div class="src-link"><a href="https://github.com/Frozenlock/bacure/blob/master/src/bacure/local_device.clj#L30">Source</a></div></div><div class="public" id="var-remove-all-objects"><h3>remove-all-objects</h3><div class="usage"><code>(remove-all-objects)</code></div><pre class="doc">Remove all local object
</pre><div class="src-link"><a href="https://github.com/Frozenlock/bacure/blob/master/src/bacure/local_device.clj#L119">Source</a></div></div><div class="public" id="var-remove-object"><h3>remove-object</h3><div class="usage"><code>(remove-object object-map)</code></div><pre class="doc">Remove a local object
</pre><div class="src-link"><a href="https://github.com/Frozenlock/bacure/blob/master/src/bacure/local_device.clj#L113">Source</a></div></div><div class="public" id="var-reset-local-device"><h3>reset-local-device</h3><div class="usage"><code>(reset-local-device)</code><code>(reset-local-device new-config)</code></div><pre class="doc">Terminate the local device and discard it. Replace it with a new
local device, and apply the same configurations as the previous one.
If a map with new configurations is provided, it will be merged with
the old config.

(reset-local-device {:device-id 1112})
---&gt; reset the device and change the device id.</pre><div class="src-link"><a href="https://github.com/Frozenlock/bacure/blob/master/src/bacure/local_device.clj#L136">Source</a></div></div><div class="public" id="var-save-local-device-backup"><h3>save-local-device-backup</h3><div class="usage"><code>(save-local-device-backup)</code></div><pre class="doc">Save the device backup on a local file and return the config map.
</pre><div class="src-link"><a href="https://github.com/Frozenlock/bacure/blob/master/src/bacure/local_device.clj#L165">Source</a></div></div><div class="public" id="var-terminate"><h3>terminate</h3><div class="usage"><code>(terminate)</code></div><pre class="doc">Terminate the local device, freeing any bound port in the process.
</pre><div class="src-link"><a href="https://github.com/Frozenlock/bacure/blob/master/src/bacure/local_device.clj#L82">Source</a></div></div></div></body></html>